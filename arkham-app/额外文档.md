基于您的需求，我来为API文档添加两个新的卡牌生成相关接口。在文档末尾的"系统接口"之前添加一个新的章节：

```markdown
---

# 卡牌生成相关接口

## 14. 生成卡图

### 基本信息

- **接口名称**: 生成卡图
- **请求地址**: `/api/generate-card`
- **请求方法**: `POST`
- **功能描述**: 根据卡牌JSON数据生成卡图，返回base64编码的图片数据

### 请求参数

| 参数名       | 类型     | 必填 | 说明      |
|-----------|--------|----|---------|
| json_data | object | 是  | 卡牌数据JSON |

#### 卡牌数据格式 (json_data)

| 字段名          | 类型       | 必填 | 说明        | 示例值          |
|--------------|----------|----|-----------|--------------|
| type         | string   | 是  | 卡牌类型      | "支援卡"        |
| name         | string   | 是  | 卡牌名称      | "测试"          |
| id           | string   | 否  | 卡牌ID      | ""           |
| created_at   | string   | 否  | 创建时间      | ""           |
| version      | string   | 否  | 版本号       | "1.0"        |
| subtitle     | string   | 否  | 副标题       | "测试"          |
| class        | string   | 否  | 职阶        | "多职阶"        |
| subclass     | array    | 否  | 子职阶列表     | ["探求者", "流浪者"] |
| health       | integer  | 否  | 生命值       | 2            |
| horror       | integer  | 否  | 恐惧值       | 3            |
| slots        | string   | 否  | 装备栏位1     | "盟友"          |
| slots2       | string   | 否  | 装备栏位2     | "身体"          |
| level        | integer  | 否  | 等级        | 4            |
| cost         | integer  | 否  | 费用        | 6            |
| submit_icon  | array    | 否  | 提交图标列表    | ["战力", "战力"]  |
| traits       | array    | 否  | 特性列表      | ["测试"]       |
| body         | string   | 否  | 卡牌正文      | "测试测试【测试】测试" |
| flavor       | string   | 否  | 背景文本      | "测试测试测试"     |
| picture_path | string   | 否  | 卡牌图片路径    | "/path/to/image.png" |

### 请求示例

```bash
curl -X POST /api/generate-card \
  -H "Content-Type: application/json" \
  -d '{
    "json_data": {
      "type": "支援卡",
      "name": "测试",
      "id": "",
      "created_at": "",
      "version": "1.0",
      "subtitle": "测试",
      "class": "多职阶",
      "subclass": ["探求者", "流浪者"],
      "health": 2,
      "horror": 3,
      "slots": "盟友",
      "slots2": "身体", 
      "level": 4,
      "cost": 6,
      "submit_icon": ["战力", "战力"],
      "traits": ["测试"],
      "body": "测试测试【测试】测试",
      "flavor": "测试测试测试"
    }
  }'
```

### 响应格式

| 字段        | 类型     | 说明                           |
|-----------|--------|------------------------------|
| data      | object | 响应数据                         |
| data.image| string | base64编码的图片数据，包含data URL前缀 |

### 示例响应

```json
{
  "code": 0,
  "msg": "生成卡图成功",
  "data": {
    "image": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA..."
  }
}
```

### 错误响应

| 错误码 | 说明           |
|-----|--------------|
| 4001| 请提供卡牌JSON数据  |
| 4002| 生成卡图失败       |
| 4003| 生成卡图失败（详细错误） |

## 15. 保存卡图

### 基本信息

- **接口名称**: 保存卡图
- **请求地址**: `/api/save-card`
- **请求方法**: `POST`
- **功能描述**: 根据卡牌JSON数据生成卡图并保存为图片文件

### 请求参数

| 参数名         | 类型     | 必填 | 说明                |
|-------------|--------|----|-------------------|
| json_data   | object | 是  | 卡牌数据JSON（格式同上）    |
| filename    | string | 是  | 保存的文件名（含扩展名）      |
| parent_path | string | 否  | 保存的父目录路径，默认为工作空间根目录 |

### 请求示例

```bash
curl -X POST /api/save-card \
  -H "Content-Type: application/json" \
  -d '{
    "json_data": {
      "type": "支援卡",
      "name": "测试卡牌",
      "subtitle": "测试",
      "class": "多职阶",
      "subclass": ["探求者"],
      "health": 2,
      "horror": 3,
      "level": 4,
      "cost": 6,
      "body": "这是一张测试卡牌",
      "flavor": "用于测试的卡牌"
    },
    "filename": "test-card.png",
    "parent_path": "/Users/username/Documents/MyProject/cards"
  }'
```

### 响应格式

成功时返回标准成功响应，无额外数据字段。

### 示例响应

```json
{
  "code": 0,
  "msg": "保存卡图成功",
  "data": null
}
```

### 错误响应

| 错误码 | 说明               |
|-----|--------------------|
| 4004| 请提供卡牌JSON数据和文件名    |
| 4005| 保存卡图失败           |
| 4006| 保存卡图失败（详细错误）     |

### 注意事项

1. **依赖检查**: 卡牌生成功能依赖 `create_card.py` 模块和相关字体、图片资源
2. **资源路径**: 系统会自动在工作空间中查找 `fonts` 和 `images` 目录作为资源路径
3. **图片格式**: 生成的卡图默认保存为PNG格式
4. **路径安全**: 保存路径必须在工作空间内，防止路径遍历攻击
5. **文件覆盖**: 如果目标文件已存在，将会被覆盖
6. **目录创建**: 如果父目录不存在，系统会自动创建

---
```

现在更新错误码说明部分，在原有错误码表格后添加：

```markdown
| 错误码范围     | 分类     | 说明          |
|-----------|--------|-------------|
| 0         | 成功     | 操作成功        |
| 1001-1999 | 目录选择相关 | 目录选择操作相关错误  |
| 2001-2999 | 快速开始相关 | 最近目录管理相关错误  |
| 3001-3999 | 工作空间相关 | 工作空间操作相关错误  |
| 4001-4999 | 卡牌生成相关 | 卡牌生成和保存相关错误 |
| 9001-9999 | 系统错误   | HTTP状态码相关错误 |
```

以及详细错误码表格中添加：

```markdown
| 错误码       | 说明                |
|-----------|-------------------|
| 4001      | 请提供卡牌JSON数据       |
| 4002      | 生成卡图失败            |
| 4003      | 生成卡图失败（详细错误信息）    |
| 4004      | 请提供卡牌JSON数据和文件名   |
| 4005      | 保存卡图失败            |
| 4006      | 保存卡图失败（详细错误信息）    |
```

这样就完整地添加了两个卡牌生成相关的API接口文档。