# DeckOption Schema ç»“æ„è¯´æ˜

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ **Zod** å®šä¹‰çš„**ç»„ç‰Œé€‰é¡¹**ï¼ˆDeck Building Optionsï¼‰Schemaï¼Œç”¨äºæè¿°ã€Šé˜¿å¡å§†ææ€–å¡ç‰Œæ¸¸æˆã€‹ä¸­è°ƒæŸ¥å‘˜çš„ç»„ç‰Œè§„åˆ™ã€‚

## ğŸ“Š å­—æ®µè¯¦è§£

### ğŸ¯ **åŸºç¡€è¿‡æ»¤æ¡ä»¶**

| å­—æ®µ      | ç±»å‹       | è¯´æ˜         | å¯é€‰é¡¹                                                       | ç¤ºä¾‹                                       |
| --------- | ---------- | ------------ | ------------------------------------------------------------ | ------------------------------------------ |
| `type`    | `string[]` | å¡ç‰Œç±»å‹é™åˆ¶ | `asset` æ”¯æ´å¡<br/>`event` äº‹ä»¶å¡<br/>`skill` æŠ€èƒ½å¡         | `["asset", "event"]` - åªèƒ½é€‰èµ„äº§å’Œäº‹ä»¶    |
| `faction` | `string[]` | èŒé˜¶é™åˆ¶     | `guardian` å®ˆæŠ¤è€…<br/>`seeker` æ¢æ±‚è€…<br/>`rogue` æµæµªè€…<br/>`mystic` æ½œä¿®è€…<br/>`survivor` æ±‚ç”Ÿè€…<br/>`neutral` ä¸­ç«‹ | `["guardian", "neutral"]` - å®ˆæŠ¤è€…å’Œä¸­ç«‹å¡ |
| `trait`   | `string[]` | ç‰¹æ€§é™åˆ¶     | è‡ªå®šä¹‰è¾“å…¥å­—ç¬¦ä¸²                                             | `["weapon", "spell"]` - æ­¦å™¨æˆ–æ³•æœ¯ç‰¹æ€§     |
| `slot`    | `string[]` | æ§½ä½é™åˆ¶     | `hand` æ‰‹éƒ¨<br/>`arcane` å¥¥æœ¯<br/>`accessory` é¥°å“<br/>`body` èº«ä½“<br/>`ally` ç›Ÿå‹<br/>`tarot` å¡”ç½—<br/>`sanity` ç†æ™º<br/>`health` ç”Ÿå‘½ | `["hand", "arcane"]` - æ‰‹éƒ¨æˆ–å¥¥æœ¯æ§½ä½      |
| `uses`    | `string[]` | ä½¿ç”¨æ ‡è®°é™åˆ¶ | `charge` å……èƒ½<br/>`ammo` å¼¹è¯<br/>`supply` è¡¥ç»™<br/>`secret` ç§˜å¯†<br/>`resource` èµ„æº<br/>`evidence` è¯æ®<br/>`offering` ä¾›å“ | `["charge", "ammo"]` - å……èƒ½æˆ–å¼¹è¯          |

### ğŸ“ **æ–‡æœ¬åŒ¹é…**

```typescript
{
  text: ["investigate"],        // æ–‡æœ¬åŒ…å«"investigate"
  text_exact: ["Fast."],       // æ–‡æœ¬ç²¾ç¡®åŒ¹é…"Fast."
}
```

### ğŸšï¸ **ç­‰çº§ç³»ç»Ÿ**

```typescript
{
  level: { min: 0, max: 5 },      // 0-5çº§å¡ç‰Œ
}
```

### ğŸ”¢ **æ•°é‡é™åˆ¶**

```typescript
{
  limit: 5,  // æœ€å¤šé€‰æ‹©5å¼ ç¬¦åˆæ­¤è§„åˆ™çš„å¡
}
```

### ğŸ² **é€‰æ‹©æœºåˆ¶**

#### 1ï¸âƒ£ **èŒé˜¶é€‰æ‹©** (Faction Select)
```typescript
{
  faction_select: ["guardian", "seeker", "rogue"],
  // ç©å®¶ä»è¿™äº›æ´¾ç³»ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œç„¶åå¯ä»¥ä½¿ç”¨è¯¥æ´¾ç³»çš„å¡
  // ç¤ºä¾‹ï¼šç½—å…°Â·ç­å…‹æ–¯å¯ä»¥é€‰æ‹©ä¸€ä¸ªå‰¯æ´¾ç³»
}
```

#### 2ï¸âƒ£ **ç‰Œåº“å¤§å°é€‰æ‹©**
```typescript
{
  deck_size_select: ["20", "30", "40"],
}
```

### âš–ï¸ **é«˜çº§è§„åˆ™**

#### ğŸ”„ **å¦å®šæ¡ä»¶** (NOT)
```typescript
{
  faction: ["mystic"],
  not: true,  // ä¸èƒ½é€‰æ‹©ç§˜æœ¯æ´¾ç³»çš„å¡
}
```

#### âœ… **è‡³å°‘æ¡ä»¶** (AtLeast)
```typescript
{
  atleast: {
    min: 7,  // è‡³å°‘è¦æœ‰7å¼ ç¬¦åˆä»¥ä¸‹æ¡ä»¶çš„å¡
    types: ["skill"],
    // ç¤ºä¾‹ï¼šå¿…é¡»è‡³å°‘åŒ…å«7å¼ æŠ€èƒ½å¡
  }
}
```

## ğŸ® å®é™…åº”ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç½—å…°Â·ç­å…‹æ–¯ï¼ˆRoland Banksï¼‰
```typescript
{
  deck_options: [
    {
      // åŸºç¡€è§„åˆ™ï¼š0-5çº§å®ˆæŠ¤è€…å¡
      faction: ["guardian"],
      level: { min: 0, max: 5 }
    },
    {
      // 0çº§æ¢å¯»è€…å¡
      faction: ["seeker"],
      level: { min: 0, max: 0 }
    },
    {
      // 0-5çº§ä¸­ç«‹å¡
      faction: ["neutral"],
      level: { min: 0, max: 5 }
    }
  ]
}
```

### ç¤ºä¾‹ 2: æ¸©è’‚Â·äºšå½“æ–¯ï¼ˆWendy Adamsï¼‰
```typescript
{
  deck_options: [
    {
      // 0-5çº§æµæ°“å¡
      faction: ["rogue"],
      level: { min: 0, max: 5 }
    },
    {
      // æœ€å¤š5å¼ 0çº§ç”Ÿå­˜è€…å¡
      faction: ["survivor"],
      level: { min: 0, max: 0 },
      limit: 5
    }
  ]
}
```

### ç¤ºä¾‹ 3: å¸¦ç‰¹æ€§é™åˆ¶
```typescript
{
  deck_options: [
    {
      // æ‰€æœ‰0-5çº§æ³•æœ¯å¡
      trait: ["spell"],
      level: { min: 0, max: 5 }
    },
    {
      // é™¤äº†ç§˜æœ¯æ´¾ç³»ä¹‹å¤–çš„0çº§å¡
      faction: ["mystic"],
      level: { min: 0, max: 0 },
      not: true
    }
  ]
}
```

### ç¤ºä¾‹ 4: å¤æ‚é€‰æ‹©ï¼ˆå¹³è¡Œå‰å§†ï¼‰
```typescript
{
  deck_options: [
    {
      // å‰¯ç‰Œåº“ï¼šé€‰æ‹©ä¸€ä¸ªæ´¾ç³»
      faction_select: ["guardian", "seeker", "rogue", "mystic", "survivor"],
      level: { min: 0, max: 0 },
      limit: 10,
      id: "side_deck"
    }
  ]
}
```

## ğŸ” å­—æ®µç»„åˆé€»è¾‘

åŒä¸€ä¸ª `DeckOption` å¯¹è±¡å†…çš„æ¡ä»¶æ˜¯ **AND** å…³ç³»ï¼š
```typescript
{
  faction: ["guardian"],
  level: { min: 0, max: 2 },
  trait: ["weapon"]
}
// æ„æ€æ˜¯ï¼šå®ˆæŠ¤è€… AND 0-2çº§ AND æ­¦å™¨ç‰¹æ€§
```

å¤šä¸ª `DeckOption` å¯¹è±¡ä¹‹é—´æ˜¯ **OR** å…³ç³»ï¼š
```typescript
deck_options: [
  { faction: ["guardian"] },  // å®ˆæŠ¤è€…å¡
  // OR
  { faction: ["seeker"] }     // æ¢å¯»è€…å¡
]
```

## ğŸ¯ æ€»ç»“

è¿™ä¸ª Schema æä¾›äº†ä¸€ä¸ª**çµæ´»ä¸”å¼ºå¤§çš„ç»„ç‰Œè§„åˆ™ç³»ç»Ÿ**ï¼Œå¯ä»¥è¡¨è¾¾ï¼š

âœ… ç®€å•çš„æ´¾ç³»/ç­‰çº§é™åˆ¶
âœ… å¤æ‚çš„æ¡ä»¶ç»„åˆï¼ˆç‰¹æ€§ã€æ§½ä½ã€æ–‡æœ¬ç­‰ï¼‰
âœ… æ•°é‡é™åˆ¶
âœ… ç©å®¶é€‰æ‹©æœºåˆ¶
âœ… å¦å®š/æ’é™¤è§„åˆ™
âœ… æœ€å°æ•°é‡è¦æ±‚

æ‰€æœ‰å­—æ®µéƒ½æ˜¯ `nullish()`ï¼Œæ„å‘³ç€å®ƒä»¬éƒ½æ˜¯å¯é€‰çš„ï¼Œåªéœ€è¦ç»„åˆéœ€è¦çš„å­—æ®µå³å¯æ„å»ºç‰¹å®šçš„ç»„ç‰Œè§„åˆ™ã€‚