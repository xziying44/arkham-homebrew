# Changelog

所有重要的项目变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [3.4.0] - 2025-11-24

### 新增
- **富文本编辑器**：新增 `BodyRichTextEditor` 组件，支持段落、不换行空格（nbsp）及关键词标签。
- **UI 组件**：新增特殊 UI 组件并适配颜色；新增编辑器分组；将数字点击组件替换为点击表盘组件。
- **卡牌配置**：支持单独配置卡牌底部图标；调查员卡底部信息支持大画（Full Art）模式；新增背面名称标签；底部插画信息增加中文支持。
- **编辑器体验**：切换编辑器时记住上次选择的标签页；支持保存导出参数。

### 优化
- **大画卡**：减小大画卡发光范围，优化脚本支持。
- **显示**：优化中文底部信息的字体显示；调整支援卡数值组件顺序；修复部分元素偏移问题。
- **性能与流程**：保存文件时不再自动生成卡图；优化上传完成后的导航位置。

### 修复
- **编辑器**：修复编辑器分组跳动；修复小卡点击背面编辑器调用 `getFieldValue` 报错；修复字体大小标签无法识别负数的问题。
- **系统稳定性**：对保存的卡牌文件进行数据强隔离，防止数据污染；修复生成脚本时引用 ID 为空导致的持久化问题；修复上传失败导致按钮卡住的问题；补充遗漏的本地化翻译。

## [3.3.0] - 2025-11-17

### 新增
- **非官方大画卡模板**：新增三种非官方大画卡模板（支援卡、事件卡和技能卡）
- **Linux 平台支持**：正式添加了对 Linux 发行版的支持

### 变更
- 更新了规则小卡的卡牌类型

## [3.2.1] - 2025-11-15

### 新增
- **自定义卡牌语言配置**：新增了对卡牌语言的自定义配置功能

### 变更
- **牌库制作功能下架**：牌库制作功能已正式下架，建议用户转为使用最新的内容包模块进行相关操作

### 优化
- **TTS 导出优化**：优化了导出到桌游模拟器（TTS）时的卡牌名称和类型标签
- **移除文件限制**：删除了扫描卡牌类型时的文件大小限制
- **视觉对齐**：优化了地点卡上图标的居中对齐效果

### 修复
- **TTS 导出修复**：修复了导出敌人卡和诡计卡到 TTS 时标签错误的问题
- **图标错位**：修复了事件卡上"投入"图标的出血和错位问题
- **文本标签冲突**：修复了文本样式中 `<size>` 标签与 `<font>` 标签之间的冲突问题

---

## 版本说明

- **主版本号（X.0.0）**：不兼容的 API 变更
- **次版本号（0.X.0）**：向下兼容的功能新增
- **修订号（0.0.X）**：向下兼容的问题修复
